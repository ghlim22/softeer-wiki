#### 공부할 것

- Lombok
- Spring
- Spring Batch
- Sprint Batch의 ItemReader
- DTO
- MVC 3-tier architecture

#### Batch 서버 DTO

기상청의 단기 예보 정보를 저장하는 DTO를 만들어야 한다.

##### 기상청 단기 예보 API

- forecast value: 제네릭 타입, 와일드카드 타입 -> `String`형을 사용하기로 결정하였다. Processor에서 카테고리를 보고 처리 방법을 판단한다.
- API 요청 보내기
- object mapper: JSON -> object
- API 오류 코드 enum 또는 정적 클래스 변수로 정리하기

#### WeatherReader 클래스 만들기

#### 설계

- 구성 요소
	- API를 한 번 호출하여 응답을 JSON 객체로 매핑.
		- UriComponentsBuilder
		- 일단 rest template 사용! 나중에 webclient로 바꾸기
		- RestClient
	- JSON객체를 DTO로 매핑
	- 위 작업을 모든 위치에 대해 수행하는 Reader
		- JobParameter: Base date, Base time

### ItemReader가 API 호출을 통해 정보를 읽게 하려면 어떻게 해야 할까?

> The `read` method defines the most essential contract of the `ItemReader`. Calling it returns one item or `null` if no more items are left.

### Job

> Spring Batch has correctly recorded the execution of the `Job` in the database, but the `Job`'s status is `STARTING` and its exit code is `UNKNOWN`. How is that possible when our `Job` was successfully executed and completed?

> This is where the responsibility of the `Job` to report its status and exit code to the `JobRepository` comes to play. Let's fix that.

>  여기서 'Job'이 자신의 상태와 종료 코드를 'JobRepository'에 보고해야 하는 책임이 발생합니다. 이 문제를 해결해 봅시다.

> As with the success path, it is the `Job`'s responsibility to handle runtime exceptions and report its failure to the `JobRepository`.

>  성공 경로와 마찬가지로, 런타임 예외를 처리하고 실패를 `JobRepository`에 보고하는 것은 `Job`의 책임입니다.

# 5: Learning Moment: Handling Errors

Note how the `execute` method is _not_ expected to throw exceptions, and it is the `Job` implementation's responsibility to handle them and add them to the `JobExecution` object for later inspection:

### Job Instances
Job은 batch 작업의 일반화된 정의이다. Job에 파라미터를 넣어서, Job instance를 만들어 실행한다.
